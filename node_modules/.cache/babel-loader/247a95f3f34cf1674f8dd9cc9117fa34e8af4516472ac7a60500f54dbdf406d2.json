{"ast":null,"code":"var _jsxFileName = \"D:\\\\JavaScript\\\\Graphql_Patika\\\\example5\\\\client\\\\src\\\\pages\\\\Home\\\\index.js\",\n  _s = $RefreshSig$();\nimport { List } from 'antd';\nimport React, { useEffect } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { eventSubscription, getEvents } from './queries';\nimport { Link } from 'react-router-dom';\nimport Event from './Event';\nimport Loading from '../../components/Loading';\nimport styles from './styles.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Home() {\n  _s();\n  const {\n    loading,\n    error,\n    data,\n    subscribeToMore\n  } = useQuery(getEvents);\n  useEffect(() => {\n    subscribeToMore({\n      document: eventSubscription,\n      updateQuery: (prev, _ref) => {\n        let {\n          subscriptionData\n        } = _ref;\n        if (!subscriptionData.data) return prev;\n        return {\n          events: [subscriptionData.data.eventCreated, ...prev.events]\n        };\n      }\n    });\n  }, [subscribeToMore]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 16\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(List, {\n    className: \"demo-loadmore-list\",\n    loading: false,\n    itemLayout: \"horizontal\"\n    //loadMore={loadMore}\n    ,\n    dataSource: data.events,\n    renderItem: item => /*#__PURE__*/_jsxDEV(Event, {\n      eventData: item\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"tnwnw5LxOOCQAxQp63aCzNpI+JY=\", false, function () {\n  return [useQuery];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["List","React","useEffect","useQuery","eventSubscription","getEvents","Link","Event","Loading","styles","jsxDEV","_jsxDEV","Home","_s","loading","error","data","subscribeToMore","document","updateQuery","prev","_ref","subscriptionData","events","eventCreated","fileName","_jsxFileName","lineNumber","columnNumber","children","className","itemLayout","dataSource","renderItem","item","eventData","_c","$RefreshReg$"],"sources":["D:/JavaScript/Graphql_Patika/example5/client/src/pages/Home/index.js"],"sourcesContent":["import { List } from 'antd';\r\nimport React, { useEffect } from 'react'\r\nimport { useQuery } from '@apollo/client';\r\nimport { eventSubscription, getEvents } from './queries';\r\nimport { Link } from 'react-router-dom';\r\nimport Event from './Event';\r\nimport Loading from '../../components/Loading';\r\nimport styles from './styles.module.css'\r\n\r\n\r\n\r\nfunction Home() {\r\n\r\n    const { loading, error, data, subscribeToMore } = useQuery(getEvents);\r\n\r\n    useEffect(() => {\r\n\r\n        subscribeToMore({\r\n            document: eventSubscription,\r\n            updateQuery: (prev, { subscriptionData }) => {\r\n                if (!subscriptionData.data) return prev;\r\n\r\n                return {\r\n                    events: [\r\n                        subscriptionData.data.eventCreated,\r\n                        ...prev.events\r\n                    ]\r\n                }\r\n            }\r\n        })\r\n\r\n    }, [subscribeToMore])\r\n\r\n\r\n    if (loading) {\r\n        return <Loading />\r\n    }\r\n\r\n    if (error) {\r\n        return <div>Error {error}</div>\r\n    }\r\n\r\n    return (\r\n        <List\r\n            className=\"demo-loadmore-list\"\r\n            loading={false}\r\n            itemLayout=\"horizontal\"\r\n            //loadMore={loadMore}\r\n            dataSource={data.events}\r\n            renderItem={(item) => (\r\n                <Event eventData={item} />\r\n            )}\r\n        />\r\n    )\r\n}\r\n\r\nexport default Home"],"mappings":";;AAAA,SAASA,IAAI,QAAQ,MAAM;AAC3B,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,iBAAiB,EAAEC,SAAS,QAAQ,WAAW;AACxD,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,MAAM,MAAM,qBAAqB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAIxC,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EAEZ,MAAM;IAAEC,OAAO;IAAEC,KAAK;IAAEC,IAAI;IAAEC;EAAgB,CAAC,GAAGd,QAAQ,CAACE,SAAS,CAAC;EAErEH,SAAS,CAAC,MAAM;IAEZe,eAAe,CAAC;MACZC,QAAQ,EAAEd,iBAAiB;MAC3Be,WAAW,EAAEA,CAACC,IAAI,EAAAC,IAAA,KAA2B;QAAA,IAAzB;UAAEC;QAAiB,CAAC,GAAAD,IAAA;QACpC,IAAI,CAACC,gBAAgB,CAACN,IAAI,EAAE,OAAOI,IAAI;QAEvC,OAAO;UACHG,MAAM,EAAE,CACJD,gBAAgB,CAACN,IAAI,CAACQ,YAAY,EAClC,GAAGJ,IAAI,CAACG,MAAM;QAEtB,CAAC;MACL;IACJ,CAAC,CAAC;EAEN,CAAC,EAAE,CAACN,eAAe,CAAC,CAAC;EAGrB,IAAIH,OAAO,EAAE;IACT,oBAAOH,OAAA,CAACH,OAAO;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EACtB;EAEA,IAAIb,KAAK,EAAE;IACP,oBAAOJ,OAAA;MAAAkB,QAAA,GAAK,QAAM,EAACd,KAAK;IAAA;MAAAU,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAO;EACnC;EAEA,oBACIjB,OAAA,CAACX,IAAI;IACD8B,SAAS,EAAC,oBAAoB;IAC9BhB,OAAO,EAAE,KAAM;IACfiB,UAAU,EAAC;IACX;IAAA;IACAC,UAAU,EAAEhB,IAAI,CAACO,MAAO;IACxBU,UAAU,EAAGC,IAAI,iBACbvB,OAAA,CAACJ,KAAK;MAAC4B,SAAS,EAAED;IAAK;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EACzB;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACJ;AAEV;AAACf,EAAA,CA3CQD,IAAI;EAAA,QAEyCT,QAAQ;AAAA;AAAAiC,EAAA,GAFrDxB,IAAI;AA6Cb,eAAeA,IAAI;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}